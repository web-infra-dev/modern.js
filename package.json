{
  "private": true,
  "name": "modern-js-monorepo",
  "description": "A Progressive React Framework for modern web development.",
  "homepage": "https://modernjs.dev",
  "bugs": "https://github.com/web-infra-dev/modern.js/issues",
  "repository": "web-infra-dev/modern.js",
  "license": "MIT",
  "keywords": [
    "react",
    "framework",
    "modern",
    "modern.js"
  ],
  "scripts": {
    "setup": "npm run reset && pnpm install",
    "reset": "npx rimraf --glob ./**/node_modules",
    "test:framework": "cd tests && pnpm run test:framework",
    "test:builder": "cd tests && pnpm run test:builder",
    "test:ut": "rstest",
    "test:ut:update": "rstest -u",
    "lint:package-json": "cd ./scripts/lint-package-json && pnpm start",
    "prepare-build": "cross-env NX_DAEMON=false NX_REJECT_UNKNOWN_LOCAL_CACHE=0 nx run-many -t build -p @modern-js/* --exclude=@modern-js/main-doc,@modern-js/module-tools-docs --maxParallel=4",
    "prepare": "npm run prepare-build && husky install",
    "prepare-build-continue": "cross-env NX_DAEMON=false NX_REJECT_UNKNOWN_LOCAL_CACHE=0 nx run-many -t build -p @modern-js/* --exclude=@modern-js/main-doc,@modern-js/module-tools-docs --nxBail=false --maxParallel=4 || echo 'Build completed with some failures, continuing...'",
    "build:required": "cross-env NX_DAEMON=false nx run-many -t build -p @modern-js/builder @modern-js/bff-core @modern-js/utils",
    "lint": "biome check",
    "change": "changeset add",
    "bump": "changeset version",
    "pre:enter": "changeset pre enter",
    "pre:exit": "changeset pre exit",
    "change-status": "changeset status",
    "gen-release-note": "cd ./scripts/release-note && pnpm start",
    "get-release-version": "cd ./scripts/release-version && pnpm start",
    "release": "pnpm publish --filter ./packages/** --report-summary --ignore-scripts",
    "fix:lockfile": "pnpm install --fix-lockfile",
    "update:lockfile": "pnpm install --lockfile-only",
    "check-changeset": "cd ./scripts/check-changeset && pnpm start",
    "check-dependencies": "node ./scripts/check-dependencies.js",
    "update-rspress": "npx taze major --include /rspress/ -w -r -l",
    "update-rsbuild": "npx taze major --include /rsbuild/ -w -r -l",
    "gen:docs": "rm -rf doc_output && mkdir doc_output && cp -r ./packages/document/doc_build/* ./doc_output",
    "docs:v2-link": "echo '/v2/*  https://modernjs-v2.netlify.app/:splat  200' >> doc_output/_redirects",
    "build:docs": "pnpm --filter @modern-js/main-doc... build && npm run gen:docs && npm run docs:v2-link"
  },
  "engines": {
    "node": ">=20",
    "pnpm": ">=10.0.0"
  },
  "packageManager": "pnpm@10.13.1",
  "commitlint": {
    "extends": [
      "@commitlint/config-conventional"
    ]
  },
  "lint-staged": {
    "*.{js,ts,cjs,mjs,d.cts,d.mts,jsx,tsx,json,jsonc}": [
      "biome check --files-ignore-unknown=true"
    ],
    "**/package.json": [
      "pnpm check-dependencies"
    ]
  },
  "devDependencies": {
    "@babel/core": "^7.28.6",
    "@babel/plugin-transform-modules-commonjs": "^7.28.6",
    "@biomejs/biome": "1.9.4",
    "@changesets/cli": "^2.29.8",
    "@commitlint/cli": "^20.4.1",
    "@commitlint/config-conventional": "^20.4.1",
    "@modern-js/tsconfig": "workspace:*",
    "@rstest/core": "0.7.9",
    "@scripts/build": "workspace:*",
    "@types/react": "^19.2.14",
    "@types/react-dom": "^19.2.3",
    "check-dependency-version-consistency": "4.1.1",
    "cross-env": "^7.0.3",
    "esbuild": "0.25.5",
    "husky": "^8.0.3",
    "lint-staged": "~13.3.0",
    "nx": "^22.4.5",
    "rimraf": "^6.1.2"
  },
  "pnpm": {
    "overrides": {
      "micromatch": "^4.0.8",
      "read-yaml-file>js-yaml": "3.14.2",
      "@remix-run/router": ">=1.23.2",
      "h3": ">=1.15.5",
      "@rspack/core@2.0.0-beta.2": "npm:@rspack-canary/core@2.0.0-canary-032bd1ff-20260212021235",
      "@module-federation/bridge-react": "https://pkg.pr.new/module-federation/core/@module-federation/bridge-react@c160c7ae3246c65fa50f19d966b8acd32448580a",
      "@module-federation/bridge-react-webpack-plugin": "https://pkg.pr.new/module-federation/core/@module-federation/bridge-react-webpack-plugin@c160c7ae3246c65fa50f19d966b8acd32448580a",
      "@module-federation/bridge-shared": "https://pkg.pr.new/module-federation/core/@module-federation/bridge-shared@c160c7ae3246c65fa50f19d966b8acd32448580a",
      "@module-federation/cli": "https://pkg.pr.new/module-federation/core/@module-federation/cli@c160c7ae3246c65fa50f19d966b8acd32448580a",
      "@module-federation/data-prefetch": "https://pkg.pr.new/module-federation/core/@module-federation/data-prefetch@c160c7ae3246c65fa50f19d966b8acd32448580a",
      "@module-federation/dts-plugin": "https://pkg.pr.new/module-federation/core/@module-federation/dts-plugin@c160c7ae3246c65fa50f19d966b8acd32448580a",
      "@module-federation/enhanced": "https://pkg.pr.new/module-federation/core/@module-federation/enhanced@c160c7ae3246c65fa50f19d966b8acd32448580a",
      "@module-federation/error-codes": "https://pkg.pr.new/module-federation/core/@module-federation/error-codes@c160c7ae3246c65fa50f19d966b8acd32448580a",
      "@module-federation/inject-external-runtime-core-plugin": "https://pkg.pr.new/module-federation/core/@module-federation/inject-external-runtime-core-plugin@c160c7ae3246c65fa50f19d966b8acd32448580a",
      "@module-federation/managers": "https://pkg.pr.new/module-federation/core/@module-federation/managers@c160c7ae3246c65fa50f19d966b8acd32448580a",
      "@module-federation/manifest": "https://pkg.pr.new/module-federation/core/@module-federation/manifest@c160c7ae3246c65fa50f19d966b8acd32448580a",
      "@module-federation/rsbuild-plugin": "https://pkg.pr.new/module-federation/core/@module-federation/rsbuild-plugin@c160c7ae3246c65fa50f19d966b8acd32448580a",
      "@module-federation/rspack": "https://pkg.pr.new/module-federation/core/@module-federation/rspack@c160c7ae3246c65fa50f19d966b8acd32448580a",
      "@module-federation/runtime": "https://pkg.pr.new/module-federation/core/@module-federation/runtime@c160c7ae3246c65fa50f19d966b8acd32448580a",
      "@module-federation/runtime-core": "https://pkg.pr.new/module-federation/core/@module-federation/runtime-core@c160c7ae3246c65fa50f19d966b8acd32448580a",
      "@module-federation/runtime-tools": "https://pkg.pr.new/module-federation/core/@module-federation/runtime-tools@c160c7ae3246c65fa50f19d966b8acd32448580a",
      "@module-federation/sdk": "https://pkg.pr.new/module-federation/core/@module-federation/sdk@c160c7ae3246c65fa50f19d966b8acd32448580a",
      "@module-federation/third-party-dts-extractor": "https://pkg.pr.new/module-federation/core/@module-federation/third-party-dts-extractor@c160c7ae3246c65fa50f19d966b8acd32448580a",
      "@module-federation/webpack-bundler-runtime": "https://pkg.pr.new/module-federation/core/@module-federation/webpack-bundler-runtime@c160c7ae3246c65fa50f19d966b8acd32448580a",
      "tar": ">=7.5.4",
      "diff": ">=4.0.4",
      "debug": ">=4.3.1",
      "cross-spawn": ">=6.0.6",
      "lodash-es": ">=4.17.23",
      "esbuild": ">=0.25.0",
      "tmp": ">=0.2.5",
      "@isaacs/brace-expansion": ">=5.0.1"
    },
    "peerDependencyRules": {
      "allowedVersions": {
        "react-side-effect@2.1.2>react": "19"
      }
    },
    "allowedDeprecatedVersions": {
      "@babel/plugin-proposal-object-rest-spread": "7.12.1 || 7.20.7",
      "@babel/plugin-proposal-private-property-in-object": "7.21.0",
      "@financial-times/polyfill-useragent-normaliser": "1.10.2",
      "formidable": "1.2.6",
      "sourcemap-codec": "1.4.8",
      "js-polyfills": "0.1.43",
      "picturefill": "3.0.3",
      "querystring": "0.2.0",
      "string-similarity": "4.0.4",
      "source-map-resolve": "0.6.0 || 0.5.3",
      "@formatjs/intl-utils": "3.8.4",
      "debug": "4.1.1",
      "uuid": "3.4.0",
      "trim": "0.0.1"
    }
  }
}
