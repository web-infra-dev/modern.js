(()=>{"use strict";var e={308:e=>{e.exports=require("../helper-create-class-features-plugin")},345:e=>{e.exports=require("../helper-plugin-utils")},718:e=>{e.exports=require("@babel/core")},638:e=>{e.exports=require("@babel/types")},828:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;t.requeueComputedKeyAndDecorators=requeueComputedKeyAndDecorators;{{{t.skipAllButComputedKey=function skipAllButComputedKey(e){e.skip();if(e.node.computed){e.context.maybeQueue(e.get("key"))}}}}}function requeueComputedKeyAndDecorators(e){const{context:t,node:s}=e;if(s.computed){t.maybeQueue(e.get("key"))}if(s.decorators){for(const s of e.get("decorators")){t.maybeQueue(s)}}}const s={FunctionParent(e){if(e.isArrowFunctionExpression()){return}else{e.skip();if(e.isMethod()){requeueComputedKeyAndDecorators(e)}}},Property(e){if(e.isObjectProperty()){return}e.skip();requeueComputedKeyAndDecorators(e)}};var r=s;t["default"]=r},621:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:true});var r=s(638);function _interopNamespace(e){if(e&&e.__esModule)return e;var t=Object.create(null);if(e){Object.keys(e).forEach((function(s){if(s!=="default"){var r=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,r.get?r:{enumerable:true,get:function(){return e[s]}})}}))}t.default=e;return Object.freeze(t)}var o=_interopNamespace(r);function willPathCastToBoolean(e){const t=e;const{node:s,parentPath:r}=t;if(r.isLogicalExpression()){const{operator:e,right:t}=r.node;if(e==="&&"||e==="||"||e==="??"&&s===t){return willPathCastToBoolean(r)}}if(r.isSequenceExpression()){const{expressions:e}=r.node;if(e[e.length-1]===s){return willPathCastToBoolean(r)}else{return true}}return r.isConditional({test:s})||r.isUnaryExpression({operator:"!"})||r.isLoop({test:s})}const{LOGICAL_OPERATORS:n,arrowFunctionExpression:i,assignmentExpression:a,binaryExpression:p,booleanLiteral:l,callExpression:c,cloneNode:d,conditionalExpression:u,identifier:f,isMemberExpression:y,isOptionalCallExpression:h,isOptionalMemberExpression:m,isUpdateExpression:g,logicalExpression:x,memberExpression:E,nullLiteral:b,optionalCallExpression:v,optionalMemberExpression:P,sequenceExpression:C,updateExpression:D}=o;class AssignmentMemoiser{constructor(){this._map=void 0;this._map=new WeakMap}has(e){return this._map.has(e)}get(e){if(!this.has(e))return;const t=this._map.get(e);const{value:s}=t;t.count--;if(t.count===0){return a("=",s,e)}return s}set(e,t,s){return this._map.set(e,{count:s,value:t})}}function toNonOptional(e,t){const{node:s}=e;if(m(s)){return E(t,s.property,s.computed)}if(e.isOptionalCallExpression()){const s=e.get("callee");if(e.node.optional&&s.isOptionalMemberExpression()){const r=s.node.object;const o=e.scope.maybeGenerateMemoised(r);s.get("object").replaceWith(a("=",o,r));return c(E(t,f("call")),[o,...e.node.arguments])}return c(t,e.node.arguments)}return e.node}function isInDetachedTree(e){while(e){if(e.isProgram())break;const{parentPath:t,container:s,listKey:r}=e;const o=t.node;if(r){if(s!==o[r]){return true}}else{if(s!==o)return true}e=t}return false}const S={memoise(){},handle(e,t){const{node:s,parent:r,parentPath:o,scope:E}=e;if(e.isOptionalMemberExpression()){if(isInDetachedTree(e))return;const n=e.find((({node:t,parent:s})=>{if(m(s)){return s.optional||s.object!==t}if(h(s)){return t!==e.node&&s.optional||s.callee!==t}return true}));if(E.path.isPattern()){n.replaceWith(c(i([],n.node),[]));return}const g=willPathCastToBoolean(n);const C=n.parentPath;if(C.isUpdateExpression({argument:s})||C.isAssignmentExpression({left:s})){throw e.buildCodeFrameError(`can't handle assignment`)}const D=C.isUnaryExpression({operator:"delete"});if(D&&n.isOptionalMemberExpression()&&n.get("property").isPrivateName()){throw e.buildCodeFrameError(`can't delete a private class element`)}let S=e;for(;;){if(S.isOptionalMemberExpression()){if(S.node.optional)break;S=S.get("object");continue}else if(S.isOptionalCallExpression()){if(S.node.optional)break;S=S.get("callee");continue}throw new Error(`Internal error: unexpected ${S.node.type}`)}const _=S.isOptionalMemberExpression()?S.node.object:S.node.callee;const N=E.maybeGenerateMemoised(_);const O=N!=null?N:_;const k=o.isOptionalCallExpression({callee:s});const isOptionalCall=e=>k;const w=o.isCallExpression({callee:s});S.replaceWith(toNonOptional(S,O));if(isOptionalCall()){if(r.optional){o.replaceWith(this.optionalCall(e,r.arguments))}else{o.replaceWith(this.call(e,r.arguments))}}else if(w){e.replaceWith(this.boundGet(e))}else if(this.delete&&o.isUnaryExpression({operator:"delete"})){o.replaceWith(this.delete(e))}else{e.replaceWith(this.get(e))}let A=e.node;for(let t=e;t!==n;){const e=t.parentPath;if(e===n&&isOptionalCall()&&r.optional){A=e.node;break}A=toNonOptional(e,A);t=e}let M;const j=n.parentPath;if(y(A)&&j.isOptionalCallExpression({callee:n.node,optional:true})){const{object:t}=A;M=e.scope.maybeGenerateMemoised(t);if(M){A.object=a("=",M,t)}}let T=n;if(D){T=j;A=j.node}const R=N?a("=",d(O),d(_)):d(O);if(g){let e;if(t){e=p("!=",R,b())}else{e=x("&&",p("!==",R,b()),p("!==",d(O),E.buildUndefinedNode()))}T.replaceWith(x("&&",e,A))}else{let e;if(t){e=p("==",R,b())}else{e=x("||",p("===",R,b()),p("===",d(O),E.buildUndefinedNode()))}T.replaceWith(u(e,D?l(true):E.buildUndefinedNode(),A))}if(M){const e=j.node;j.replaceWith(v(P(e.callee,f("call"),false,true),[d(M),...e.arguments],false))}return}if(g(r,{argument:s})){if(this.simpleSet){e.replaceWith(this.simpleSet(e));return}const{operator:t,prefix:n}=r;this.memoise(e,2);const i=E.generateUidIdentifierBasedOnNode(s);E.push({id:i});const p=[a("=",d(i),this.get(e))];if(n){p.push(D(t,d(i),n));const s=C(p);o.replaceWith(this.set(e,s));return}else{const r=E.generateUidIdentifierBasedOnNode(s);E.push({id:r});p.push(a("=",d(r),D(t,d(i),n)),d(i));const l=C(p);o.replaceWith(C([this.set(e,l),d(r)]));return}}if(o.isAssignmentExpression({left:s})){if(this.simpleSet){e.replaceWith(this.simpleSet(e));return}const{operator:t,right:s}=o.node;if(t==="="){o.replaceWith(this.set(e,s))}else{const r=t.slice(0,-1);if(n.includes(r)){this.memoise(e,1);o.replaceWith(x(r,this.get(e),this.set(e,s)))}else{this.memoise(e,2);o.replaceWith(this.set(e,p(r,this.get(e),s)))}}return}if(o.isCallExpression({callee:s})){o.replaceWith(this.call(e,o.node.arguments));return}if(o.isOptionalCallExpression({callee:s})){if(E.path.isPattern()){o.replaceWith(c(i([],o.node),[]));return}o.replaceWith(this.optionalCall(e,o.node.arguments));return}if(this.delete&&o.isUnaryExpression({operator:"delete"})){o.replaceWith(this.delete(e));return}if(o.isForXStatement({left:s})||o.isObjectProperty({value:s})&&o.parentPath.isObjectPattern()||o.isAssignmentPattern({left:s})&&o.parentPath.isObjectProperty({value:r})&&o.parentPath.parentPath.isObjectPattern()||o.isArrayPattern()||o.isAssignmentPattern({left:s})&&o.parentPath.isArrayPattern()||o.isRestElement()){e.replaceWith(this.destructureSet(e));return}if(o.isTaggedTemplateExpression()){e.replaceWith(this.boundGet(e))}else{e.replaceWith(this.get(e))}}};function memberExpressionToFunctions(e,t,s){e.traverse(t,Object.assign({},S,s,{memoiser:new AssignmentMemoiser}))}t["default"]=memberExpressionToFunctions},756:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=optimiseCallExpression;var r=s(638);const{callExpression:o,identifier:n,isIdentifier:i,isSpreadElement:a,memberExpression:p,optionalCallExpression:l,optionalMemberExpression:c}=r;function optimiseCallExpression(e,t,s,r){if(s.length===1&&a(s[0])&&i(s[0].argument,{name:"arguments"})){if(r){return l(c(e,n("apply"),false,true),[t,s[0].argument],false)}return o(p(e,n("apply")),[t,s[0].argument])}else{if(r){return l(c(e,n("call"),false,true),[t,...s],false)}return o(p(e,n("call")),[t,...s])}}},513:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=s(828);var o=s(621);var n=s(756);var i=s(718);const{assignmentExpression:a,booleanLiteral:p,callExpression:l,cloneNode:c,identifier:d,memberExpression:u,sequenceExpression:f,stringLiteral:y,thisExpression:h}=i.types;{{{const e=s(828);t.environmentVisitor=e.default;t.skipAllButComputedKey=e.skipAllButComputedKey}}}function getPrototypeOfExpression(e,t,s,r){e=c(e);const o=t||r?e:u(e,d("prototype"));return l(s.addHelper("getPrototypeOf"),[o])}const m=i.traverse.visitors.merge([r.default,{Super(e,t){const{node:s,parentPath:r}=e;if(!r.isMemberExpression({object:s}))return;t.handle(r)}}]);const g=i.traverse.visitors.merge([r.default,{Scopable(e,{refName:t}){const s=e.scope.getOwnBinding(t);if(s&&s.identifier.name===t){e.scope.rename(t)}}}]);const x={memoise(e,t){const{scope:s,node:r}=e;const{computed:o,property:n}=r;if(!o){return}const i=s.maybeGenerateMemoised(n);if(!i){return}this.memoiser.set(n,i,t)},prop(e){const{computed:t,property:s}=e.node;if(this.memoiser.has(s)){return c(this.memoiser.get(s))}if(t){return c(s)}return y(s.name)},get(e){return this._get(e,this._getThisRefs())},_get(e,t){const s=getPrototypeOfExpression(this.getObjectRef(),this.isStatic,this.file,this.isPrivateMethod);return l(this.file.addHelper("get"),[t.memo?f([t.memo,s]):s,this.prop(e),t.this])},_getThisRefs(){if(!this.isDerivedConstructor){return{this:h()}}const e=this.scope.generateDeclaredUidIdentifier("thisSuper");return{memo:a("=",e,h()),this:c(e)}},set(e,t){const s=this._getThisRefs();const r=getPrototypeOfExpression(this.getObjectRef(),this.isStatic,this.file,this.isPrivateMethod);return l(this.file.addHelper("set"),[s.memo?f([s.memo,r]):r,this.prop(e),t,s.this,p(e.isInStrictMode())])},destructureSet(e){throw e.buildCodeFrameError(`Destructuring to a super field is not supported yet.`)},call(e,t){const s=this._getThisRefs();return(0,n.default)(this._get(e,s),c(s.this),t,false)},optionalCall(e,t){const s=this._getThisRefs();return(0,n.default)(this._get(e,s),c(s.this),t,true)},delete(e){if(e.node.computed){return f([l(this.file.addHelper("toPropertyKey"),[c(e.node.property)]),i.template.expression.ast`
          function () { throw new ReferenceError("'delete super[expr]' is invalid"); }()
        `])}else{return i.template.expression.ast`
        function () { throw new ReferenceError("'delete super.prop' is invalid"); }()
      `}}};const E=Object.assign({},x,{prop(e){const{property:t}=e.node;if(this.memoiser.has(t)){return c(this.memoiser.get(t))}return c(t)},get(e){const{isStatic:t,getSuperRef:s}=this;const{computed:r}=e.node;const o=this.prop(e);let n;if(t){var i;n=(i=s())!=null?i:u(d("Function"),d("prototype"))}else{var a;n=u((a=s())!=null?a:d("Object"),d("prototype"))}return u(n,o,r)},set(e,t){const{computed:s}=e.node;const r=this.prop(e);return a("=",u(h(),r,s),t)},destructureSet(e){const{computed:t}=e.node;const s=this.prop(e);return u(h(),s,t)},call(e,t){return(0,n.default)(this.get(e),h(),t,false)},optionalCall(e,t){return(0,n.default)(this.get(e),h(),t,true)}});class ReplaceSupers{constructor(e){var t;const s=e.methodPath;this.methodPath=s;this.isDerivedConstructor=s.isClassMethod({kind:"constructor"})&&!!e.superRef;this.isStatic=s.isObjectMethod()||s.node.static||(s.isStaticBlock==null?void 0:s.isStaticBlock());this.isPrivateMethod=s.isPrivate()&&s.isMethod();this.file=e.file;this.constantSuper=(t=e.constantSuper)!=null?t:e.isLoose;this.opts=e}getObjectRef(){return c(this.opts.objectRef||this.opts.getObjectRef())}getSuperRef(){if(this.opts.superRef)return c(this.opts.superRef);if(this.opts.getSuperRef){return c(this.opts.getSuperRef())}}replace(){if(this.opts.refToPreserve){this.methodPath.traverse(g,{refName:this.opts.refToPreserve.name})}const e=this.constantSuper?E:x;(0,o.default)(this.methodPath,m,Object.assign({file:this.file,scope:this.methodPath.scope,isDerivedConstructor:this.isDerivedConstructor,isStatic:this.isStatic,isPrivateMethod:this.isPrivateMethod,getObjectRef:this.getObjectRef.bind(this),getSuperRef:this.getSuperRef.bind(this),boundGet:e.get},e))}}t["default"]=ReplaceSupers},605:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=splitExportDeclaration;var r=s(638);const{cloneNode:o,exportNamedDeclaration:n,exportSpecifier:i,identifier:a,variableDeclaration:p,variableDeclarator:l}=r;function splitExportDeclaration(e){if(!e.isExportDeclaration()||e.isExportAllDeclaration()){throw new Error("Only default and named export declarations can be split.")}if(e.isExportDefaultDeclaration()){const t=e.get("declaration");const s=t.isFunctionDeclaration()||t.isClassDeclaration();const r=t.isFunctionExpression()||t.isClassExpression();const c=t.isScope()?t.scope.parent:t.scope;let d=t.node.id;let u=false;if(!d){u=true;d=c.generateUidIdentifier("default");if(s||r){t.node.id=o(d)}}else if(r&&c.hasBinding(d.name)){u=true;d=c.generateUidIdentifier(d.name)}const f=s?t.node:p("var",[l(o(d),t.node)]);const y=n(null,[i(o(d),a("default"))]);e.insertAfter(y);e.replaceWith(f);if(u){c.registerDeclaration(e)}return e}else if(e.get("specifiers").length>0){throw new Error("It doesn't make sense to split exported specifiers.")}const t=e.get("declaration");const s=t.getOuterBindingIdentifiers();const r=Object.keys(s).map((e=>i(a(e),a(e))));const c=n(null,r);e.insertAfter(c);e.replaceWith(t.node);return e}},859:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=_default;var r=s(718);var o=s(273);var n=s(513);var i=s(605);function incrementId(e,t=e.length-1){if(t===-1){e.unshift(65);return}const s=e[t];if(s===90){e[t]=97}else if(s===122){e[t]=65;incrementId(e,t-1)}else{e[t]=s+1}}function createPrivateUidGeneratorForClass(e){const t=[];const s=new Set;e.traverse({PrivateName(e){s.add(e.node.id.name)}});return()=>{let e;do{incrementId(t);e=String.fromCharCode(...t)}while(s.has(e));return r.types.privateName(r.types.identifier(e))}}function createLazyPrivateUidGeneratorForClass(e){let t;return()=>{if(!t){t=createPrivateUidGeneratorForClass(e)}return t()}}function replaceClassWithVar(e){if(e.type==="ClassDeclaration"){const t=e.scope.generateUidIdentifierBasedOnNode(e.node.id);const s=r.types.identifier(e.node.id.name);e.scope.rename(s.name,t.name);e.insertBefore(r.types.variableDeclaration("let",[r.types.variableDeclarator(t)]));e.get("id").replaceWith(s);return[r.types.cloneNode(t),e]}else{let t;let s;if(e.node.id){t=e.node.id.name;s=e.scope.parent.generateDeclaredUidIdentifier(t);e.scope.rename(t,s.name)}else if(e.parentPath.node.type==="VariableDeclarator"&&e.parentPath.node.id.type==="Identifier"){t=e.parentPath.node.id.name;s=e.scope.parent.generateDeclaredUidIdentifier(t)}else{s=e.scope.parent.generateDeclaredUidIdentifier("decorated_class")}const o=r.types.classExpression(t&&r.types.identifier(t),e.node.superClass,e.node.body);const[n]=e.replaceWith(r.types.sequenceExpression([o,s]));return[r.types.cloneNode(s),n.get("expressions.0")]}}function generateClassProperty(e,t,s){if(e.type==="PrivateName"){return r.types.classPrivateProperty(e,t,undefined,s)}else{return r.types.classProperty(e,t,undefined,undefined,s)}}function addProxyAccessorsFor(e,t,s,o,n,i=false){const{static:a}=t.node;const p=n==="2023-05"&&a?e:r.types.thisExpression();const l=r.types.blockStatement([r.types.returnStatement(r.types.memberExpression(r.types.cloneNode(p),r.types.cloneNode(o)))]);const c=r.types.blockStatement([r.types.expressionStatement(r.types.assignmentExpression("=",r.types.memberExpression(r.types.cloneNode(p),r.types.cloneNode(o)),r.types.identifier("v")))]);let d,u;if(s.type==="PrivateName"){d=r.types.classPrivateMethod("get",r.types.cloneNode(s),[],l,a);u=r.types.classPrivateMethod("set",r.types.cloneNode(s),[r.types.identifier("v")],c,a)}else{d=r.types.classMethod("get",r.types.cloneNode(s),[],l,i,a);u=r.types.classMethod("set",r.types.cloneNode(s),[r.types.identifier("v")],c,i,a)}t.insertAfter(u);t.insertAfter(d)}function extractProxyAccessorsFor(e,t){if(t!=="2023-05"&&t!=="2023-01"){return[r.template.expression.ast`
        function () {
          return this.${r.types.cloneNode(e)};
        }
      `,r.template.expression.ast`
        function (value) {
          this.${r.types.cloneNode(e)} = value;
        }
      `]}return[r.template.expression.ast`
      o => o.${r.types.cloneNode(e)}
    `,r.template.expression.ast`
      (o, v) => o.${r.types.cloneNode(e)} = v
    `]}const a=0;const p=1;const l=2;const c=3;const d=4;const u=5;const f=8;const y=16;function getElementKind(e){switch(e.node.type){case"ClassProperty":case"ClassPrivateProperty":return a;case"ClassAccessorProperty":return p;case"ClassMethod":case"ClassPrivateMethod":if(e.node.kind==="get"){return c}else if(e.node.kind==="set"){return d}else{return l}}}function isDecoratorInfo(e){return"decorators"in e}function filteredOrderedDecoratorInfo(e){const t=e.filter(isDecoratorInfo);return[...t.filter((e=>e.isStatic&&e.kind>=p&&e.kind<=d)),...t.filter((e=>!e.isStatic&&e.kind>=p&&e.kind<=d)),...t.filter((e=>e.isStatic&&e.kind===a)),...t.filter((e=>!e.isStatic&&e.kind===a))]}function generateDecorationList(e,t,s){const o=e.length;const n=t.some(Boolean);const i=[];for(let a=0;a<o;a++){if(s==="2023-05"&&n){i.push(t[a]||r.types.unaryExpression("void",r.types.numericLiteral(0)))}i.push(e[a])}return{hasThis:n,decs:i}}function generateDecorationExprs(e,t){return r.types.arrayExpression(filteredOrderedDecoratorInfo(e).map((e=>{const{decs:s,hasThis:o}=generateDecorationList(e.decorators,e.decoratorsThis,t);let n=e.kind;if(e.isStatic){n+=t==="2023-05"?f:u}if(o)n+=y;return r.types.arrayExpression([s.length===1?s[0]:r.types.arrayExpression(s),r.types.numericLiteral(n),e.name,...e.privateMethods||[]])})))}function extractElementLocalAssignments(e){const t=[];for(const s of filteredOrderedDecoratorInfo(e)){const{locals:e}=s;if(Array.isArray(e)){t.push(...e)}else if(e!==undefined){t.push(e)}}return t}function addCallAccessorsFor(e,t,s,o){e.insertAfter(r.types.classPrivateMethod("get",r.types.cloneNode(t),[],r.types.blockStatement([r.types.returnStatement(r.types.callExpression(r.types.cloneNode(s),[r.types.thisExpression()]))])));e.insertAfter(r.types.classPrivateMethod("set",r.types.cloneNode(t),[r.types.identifier("v")],r.types.blockStatement([r.types.expressionStatement(r.types.callExpression(r.types.cloneNode(o),[r.types.thisExpression(),r.types.identifier("v")]))])))}function isNotTsParameter(e){return e.type!=="TSParameterProperty"}function movePrivateAccessor(e,t,s,o){let n;let i;if(e.node.kind==="set"){n=[r.types.identifier("v")];i=[r.types.expressionStatement(r.types.callExpression(s,[r.types.thisExpression(),r.types.identifier("v")]))]}else{n=[];i=[r.types.returnStatement(r.types.callExpression(s,[r.types.thisExpression()]))]}e.replaceWith(r.types.classPrivateMethod(e.node.kind,r.types.cloneNode(t),n,r.types.blockStatement(i),o))}function isClassDecoratableElementPath(e){const{type:t}=e;return t!=="TSDeclareMethod"&&t!=="TSIndexSignature"&&t!=="StaticBlock"}function staticBlockToIIFE(e){return r.types.callExpression(r.types.arrowFunctionExpression([],r.types.blockStatement(e.body)),[])}function maybeSequenceExpression(e){if(e.length===0)return r.types.unaryExpression("void",r.types.numericLiteral(0));if(e.length===1)return e[0];return r.types.sequenceExpression(e)}function transformClass(e,t,s,o){const i=e.get("body.body");const l=e.node.decorators;let u=false;const f=createLazyPrivateUidGeneratorForClass(e);for(const t of i){if(!isClassDecoratableElementPath(t)){continue}if(t.node.decorators&&t.node.decorators.length>0){u=true}else if(t.node.type==="ClassAccessorProperty"){const{key:s,value:n,static:i,computed:a}=t.node;const p=f();const l=n?r.types.cloneNode(n):undefined;const c=generateClassProperty(p,l,i);const[d]=t.replaceWith(c);addProxyAccessorsFor(e.node.id,d,s,p,o,a)}}if(!l&&!u)return;const y=[];let h;let m;let g=false;let x=false;const E=new Set;let b,v,P,C;const D=[];const S=e.scope.parent;const memoiseExpression=(e,t)=>{const s=S.generateDeclaredUidIdentifier(t);D.push(r.types.assignmentExpression("=",s,e));return r.types.cloneNode(s)};const _=new Map;const maybeExtractDecorator=e=>{const{expression:t}=e;if(o==="2023-05"&&r.types.isMemberExpression(t)){let s;if(r.types.isSuper(t.object)||r.types.isThisExpression(t.object)){s=memoiseExpression(r.types.thisExpression(),"obj")}else if(!S.isStatic(t.object)){s=memoiseExpression(t.object,"obj");t.object=s}else{s=t.object}_.set(e,r.types.cloneNode(s))}if(!S.isStatic(t)){e.expression=memoiseExpression(t,"dec")}};if(l){P=S.generateDeclaredUidIdentifier("initClass");const[t,s]=replaceClassWithVar(e);e=s;C=t;e.node.decorators=null;for(const e of l){maybeExtractDecorator(e)}}else{if(!e.node.id){e.node.id=e.scope.generateUidIdentifier("Class")}C=r.types.cloneNode(e.node.id)}let N;let O=false;if(u){for(const l of i){if(!isClassDecoratableElementPath(l)){continue}const{node:i}=l;const u=l.get("decorators");const b=Array.isArray(u)&&u.length>0;if(b){for(const e of u){maybeExtractDecorator(e.node)}}const v="computed"in l.node&&l.node.computed===true;if(v){if(!S.isStatic(i.key)){i.key=memoiseExpression(i.key,"computedKey")}}const P=getElementKind(l);const{key:D}=i;const k=D.type==="PrivateName";const w=!!l.node.static;let A="computedKey";if(k){A=D.id.name}else if(!v&&D.type==="Identifier"){A=D.name}if(k&&!w){if(b){O=true}if(r.types.isClassPrivateProperty(i)||!N){N=D}}if(l.isClassMethod({kind:"constructor"})){m=l}if(b){let i;let m;if(P===p){const{value:t}=l.node;const s=[r.types.thisExpression()];if(t){s.push(r.types.cloneNode(t))}const n=f();const a=l.scope.parent.generateDeclaredUidIdentifier(`init_${A}`);const p=r.types.callExpression(r.types.cloneNode(a),s);const c=generateClassProperty(n,p,w);const[d]=l.replaceWith(c);if(k){m=extractProxyAccessorsFor(n,o);const e=d.scope.parent.generateDeclaredUidIdentifier(`get_${A}`);const t=d.scope.parent.generateDeclaredUidIdentifier(`set_${A}`);addCallAccessorsFor(d,D,e,t);i=[a,e,t]}else{addProxyAccessorsFor(e.node.id,d,D,n,o,v);i=a}}else if(P===a){const e=l.scope.parent.generateDeclaredUidIdentifier(`init_${A}`);const t=l.get("value");t.replaceWith(r.types.callExpression(r.types.cloneNode(e),[r.types.thisExpression(),t.node].filter((e=>e))));i=e;if(k){m=extractProxyAccessorsFor(D,o)}}else if(k){i=l.scope.parent.generateDeclaredUidIdentifier(`call_${A}`);const o=new n.default({constantSuper:s,methodPath:l,objectRef:C,superRef:e.node.superClass,file:t.file,refToPreserve:C});o.replace();const{params:a,body:p,async:u}=l.node;m=[r.types.functionExpression(undefined,a.filter(isNotTsParameter),p,u)];if(P===c||P===d){movePrivateAccessor(l,r.types.cloneNode(D),r.types.cloneNode(i),w)}else{const t=l.node;e.node.body.body.unshift(r.types.classPrivateProperty(D,r.types.cloneNode(i),[],t.static));E.add(D.id.name);l.remove()}}let b;if(v){b=r.types.cloneNode(D)}else if(D.type==="PrivateName"){b=r.types.stringLiteral(D.id.name)}else if(D.type==="Identifier"){b=r.types.stringLiteral(D.name)}else{b=r.types.cloneNode(D)}y.push({kind:P,decorators:u.map((e=>e.node.expression)),decoratorsThis:u.map((e=>_.get(e.node))),name:b,isStatic:w,privateMethods:m,locals:i});if(P!==a){if(w){x=true}else{g=true}}if(l.node){l.node.decorators=null}if(!h&&!w&&(P===a||P===p)){h=l}}}}const k=generateDecorationExprs(y,o);let w=0;let A=[];if(l){const{hasThis:e,decs:t}=generateDecorationList(l.map((e=>e.expression)),l.map((e=>_.get(e))),o);w=e?1:0;A=t}const M=extractElementLocalAssignments(y);if(g){b=S.generateDeclaredUidIdentifier("initProto");M.push(b);const t=r.types.callExpression(r.types.cloneNode(b),[r.types.thisExpression()]);if(h){const e=h.get("value");const s=[t];if(e.node){s.push(e.node)}e.replaceWith(r.types.sequenceExpression(s))}else if(m){if(e.node.superClass){e.traverse({CallExpression:{exit(e){if(!e.get("callee").isSuper())return;e.replaceWith(r.types.callExpression(r.types.cloneNode(b),[e.node]));e.skip()}}})}else{m.node.body.body.unshift(r.types.expressionStatement(t))}}else{const s=[r.types.expressionStatement(t)];if(e.node.superClass){s.unshift(r.types.expressionStatement(r.types.callExpression(r.types.super(),[r.types.spreadElement(r.types.identifier("args"))])))}e.node.body.body.unshift(r.types.classMethod("constructor",r.types.identifier("constructor"),[r.types.restElement(r.types.identifier("args"))],r.types.blockStatement(s)))}}if(x){v=S.generateDeclaredUidIdentifier("initStatic");M.push(v)}if(E.size>0){e.traverse({PrivateName(e){if(!E.has(e.node.id.name))return;const t=e.parentPath;const s=t.parentPath;if(s.node.type==="AssignmentExpression"&&s.node.left===t.node||s.node.type==="UpdateExpression"||s.node.type==="RestElement"||s.node.type==="ArrayPattern"||s.node.type==="ObjectProperty"&&s.node.value===t.node&&s.parentPath.type==="ObjectPattern"||s.node.type==="ForOfStatement"&&s.node.left===t.node){throw e.buildCodeFrameError(`Decorated private methods are not updatable, but "#${e.node.id.name}" is updated via this expression.`)}}})}const j=[];let T=false;const R=P&&r.types.callExpression(r.types.cloneNode(P),[]);const I=e.node;if(l){j.push(C,P);const s=[];let o=[];e.get("body.body").forEach((e=>{if(e.isStaticBlock()){o.push(e.node);e.remove();return}const t=e.isClassProperty()||e.isClassPrivateProperty();if((t||e.isClassPrivateMethod())&&e.node.static){if(t&&o.length>0){const t=o.map(staticBlockToIIFE);if(e.node.value)t.push(e.node.value);e.node.value=maybeSequenceExpression(t);o=[]}e.node.static=false;s.push(e.node);e.remove()}}));if(s.length>0||o.length>0){const n=r.template.expression.ast`
        class extends ${t.addHelper("identity")} {}
      `;n.body.body=[r.types.staticBlock([r.types.toStatement(I,true)||r.types.expressionStatement(I)]),...s];const i=[];const a=r.types.newExpression(n,[]);if(o.length>0){i.push(...o.map(staticBlockToIIFE))}if(R){T=true;i.push(R)}if(i.length>0){i.unshift(r.types.callExpression(r.types.super(),[r.types.cloneNode(C)]));n.body.body.push(r.types.classMethod("constructor",r.types.identifier("constructor"),[],r.types.blockStatement([r.types.expressionStatement(r.types.sequenceExpression(i))])))}else{a.arguments.push(r.types.cloneNode(C))}e.replaceWith(a)}}if(!T&&R){e.node.body.body.push(r.types.staticBlock([r.types.expressionStatement(R)]))}I.body.body.unshift(r.types.staticBlock([r.types.expressionStatement(createLocalsAssignment(M,j,k,r.types.arrayExpression(A),r.types.numericLiteral(w),O?N:null,t,o)),x&&r.types.expressionStatement(r.types.callExpression(r.types.cloneNode(v),[r.types.thisExpression()]))].filter(Boolean)));e.insertBefore(D.map((e=>r.types.expressionStatement(e))));e.scope.crawl();return e}function createLocalsAssignment(e,t,s,o,n,i,a,p){let l,c;const d=[r.types.thisExpression(),s,o];{if(p==="2021-12"||p==="2022-03"&&!a.availableHelper("applyDecs2203R")){const s=r.types.arrayPattern([...e,...t]);const o=r.types.callExpression(a.addHelper(p==="2021-12"?"applyDecs":"applyDecs2203"),d);return r.types.assignmentExpression("=",s,o)}}if(p==="2023-05"){if(i||n.value!==0){d.push(n)}if(i){d.push(r.template.expression.ast`
            _ => ${r.types.cloneNode(i)} in _
          `)}c=r.types.callExpression(a.addHelper("applyDecs2305"),d)}else if(p==="2023-01"){if(i){d.push(r.template.expression.ast`
            _ => ${r.types.cloneNode(i)} in _
          `)}c=r.types.callExpression(a.addHelper("applyDecs2301"),d)}else{c=r.types.callExpression(a.addHelper("applyDecs2203R"),d)}if(e.length>0){if(t.length>0){l=r.types.objectPattern([r.types.objectProperty(r.types.identifier("e"),r.types.arrayPattern(e)),r.types.objectProperty(r.types.identifier("c"),r.types.arrayPattern(t))])}else{l=r.types.arrayPattern(e);c=r.types.memberExpression(c,r.types.identifier("e"),false,false)}}else{l=r.types.arrayPattern(t);c=r.types.memberExpression(c,r.types.identifier("c"),false,false)}return r.types.assignmentExpression("=",l,c)}function _default({assertVersion:e,assumption:t},{loose:s},r){var n;{if(r==="2023-05"||r==="2023-01"){e("^7.21.0")}else if(r==="2021-12"){e("^7.16.0")}else{e("^7.19.0")}}const a=new WeakSet;const p=(n=t("constantSuper"))!=null?n:s;return{name:"proposal-decorators",inherits:o.default,visitor:{"ExportNamedDeclaration|ExportDefaultDeclaration"(e){var t;const{declaration:s}=e.node;if((s==null?void 0:s.type)==="ClassDeclaration"&&((t=s.decorators)==null?void 0:t.length)>0){(0,i.default)(e)}},Class(e,t){if(a.has(e))return;const s=transformClass(e,t,p,r);if(s)a.add(s)}}}}},765:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=s(718);const o=r.template.statement(`\n  DECORATOR(CLASS_REF = INNER) || CLASS_REF;\n`);const n=(0,r.template)(`\n  CLASS_REF.prototype;\n`);const i=(0,r.template)(`\n    Object.getOwnPropertyDescriptor(TARGET, PROPERTY);\n`);const a=(0,r.template)(`\n    (TEMP = Object.getOwnPropertyDescriptor(TARGET, PROPERTY), (TEMP = TEMP ? TEMP.value : undefined), {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        initializer: function(){\n            return TEMP;\n        }\n    })\n`);const p=new WeakSet;function applyEnsureOrdering(e){const t=(e.isClass()?[e,...e.get("body.body")]:e.get("properties")).reduce(((e,t)=>e.concat(t.node.decorators||[])),[]);const s=t.filter((e=>!r.types.isIdentifier(e.expression)));if(s.length===0)return;return r.types.sequenceExpression(s.map((t=>{const s=t.expression;const o=t.expression=e.scope.generateDeclaredUidIdentifier("dec");return r.types.assignmentExpression("=",o,s)})).concat([e.node]))}function applyClassDecorators(e){if(!hasClassDecorators(e.node))return;const t=e.node.decorators||[];e.node.decorators=null;const s=e.scope.generateDeclaredUidIdentifier("class");return t.map((e=>e.expression)).reverse().reduce((function(e,t){return o({CLASS_REF:r.types.cloneNode(s),DECORATOR:r.types.cloneNode(t),INNER:e}).expression}),e.node)}function hasClassDecorators(e){var t;return!!((t=e.decorators)!=null&&t.length)}function applyMethodDecorators(e,t){if(!hasMethodDecorators(e.node.body.body))return;return applyTargetDecorators(e,t,e.node.body.body)}function hasMethodDecorators(e){return e.some((e=>{var t;return(t=e.decorators)==null?void 0:t.length}))}function applyObjectDecorators(e,t){if(!hasMethodDecorators(e.node.properties))return;return applyTargetDecorators(e,t,e.node.properties.filter((e=>e.type!=="SpreadElement")))}function applyTargetDecorators(e,t,s){const o=e.scope.generateDeclaredUidIdentifier(e.isClass()?"class":"obj");const l=s.reduce((function(s,l){let c=[];if(l.decorators!=null){c=l.decorators;l.decorators=null}if(c.length===0)return s;if(l.computed){throw e.buildCodeFrameError("Computed method/property decorators are not yet supported.")}const d=r.types.isLiteral(l.key)?l.key:r.types.stringLiteral(l.key.name);const u=e.isClass()&&!l.static?n({CLASS_REF:o}).expression:o;if(r.types.isClassProperty(l,{static:false})){const o=e.scope.generateDeclaredUidIdentifier("descriptor");const n=l.value?r.types.functionExpression(null,[],r.types.blockStatement([r.types.returnStatement(l.value)])):r.types.nullLiteral();l.value=r.types.callExpression(t.addHelper("initializerWarningHelper"),[o,r.types.thisExpression()]);p.add(l.value);s.push(r.types.assignmentExpression("=",r.types.cloneNode(o),r.types.callExpression(t.addHelper("applyDecoratedDescriptor"),[r.types.cloneNode(u),r.types.cloneNode(d),r.types.arrayExpression(c.map((e=>r.types.cloneNode(e.expression)))),r.types.objectExpression([r.types.objectProperty(r.types.identifier("configurable"),r.types.booleanLiteral(true)),r.types.objectProperty(r.types.identifier("enumerable"),r.types.booleanLiteral(true)),r.types.objectProperty(r.types.identifier("writable"),r.types.booleanLiteral(true)),r.types.objectProperty(r.types.identifier("initializer"),n)])])))}else{s.push(r.types.callExpression(t.addHelper("applyDecoratedDescriptor"),[r.types.cloneNode(u),r.types.cloneNode(d),r.types.arrayExpression(c.map((e=>r.types.cloneNode(e.expression)))),r.types.isObjectProperty(l)||r.types.isClassProperty(l,{static:true})?a({TEMP:e.scope.generateDeclaredUidIdentifier("init"),TARGET:r.types.cloneNode(u),PROPERTY:r.types.cloneNode(d)}).expression:i({TARGET:r.types.cloneNode(u),PROPERTY:r.types.cloneNode(d)}).expression,r.types.cloneNode(u)]))}return s}),[]);return r.types.sequenceExpression([r.types.assignmentExpression("=",r.types.cloneNode(o),e.node),r.types.sequenceExpression(l),r.types.cloneNode(o)])}function decoratedClassToExpression({node:e,scope:t}){if(!hasClassDecorators(e)&&!hasMethodDecorators(e.body.body)){return}const s=e.id?r.types.cloneNode(e.id):t.generateUidIdentifier("class");return r.types.variableDeclaration("let",[r.types.variableDeclarator(s,r.types.toExpression(e))])}const l={ExportDefaultDeclaration(e){const t=e.get("declaration");if(!t.isClassDeclaration())return;const s=decoratedClassToExpression(t);if(s){const[o]=e.replaceWithMultiple([s,r.types.exportNamedDeclaration(null,[r.types.exportSpecifier(r.types.cloneNode(s.declarations[0].id),r.types.identifier("default"))])]);if(!t.node.id){e.scope.registerDeclaration(o)}}},ClassDeclaration(e){const t=decoratedClassToExpression(e);if(t){const[s]=e.replaceWith(t);const r=s.get("declarations.0");const o=r.node.id;const n=e.scope.getOwnBinding(o.name);n.identifier=o;n.path=r}},ClassExpression(e,t){const s=applyEnsureOrdering(e)||applyClassDecorators(e)||applyMethodDecorators(e,t);if(s)e.replaceWith(s)},ObjectExpression(e,t){const s=applyEnsureOrdering(e)||applyObjectDecorators(e,t);if(s)e.replaceWith(s)},AssignmentExpression(e,t){if(!p.has(e.node.right))return;e.replaceWith(r.types.callExpression(t.addHelper("initializerDefineProperty"),[r.types.cloneNode(e.get("left.object").node),r.types.stringLiteral(e.get("left.property").node.name||e.get("left.property").node.value),r.types.cloneNode(e.get("right.arguments")[0].node),r.types.cloneNode(e.get("right.arguments")[1].node)]))},CallExpression(e,t){if(e.node.arguments.length!==3)return;if(!p.has(e.node.arguments[2]))return;if(e.node.callee.name!==t.addHelper("defineProperty").name){return}e.replaceWith(r.types.callExpression(t.addHelper("initializerDefineProperty"),[r.types.cloneNode(e.get("arguments")[0].node),r.types.cloneNode(e.get("arguments")[1].node),r.types.cloneNode(e.get("arguments.2.arguments")[0].node),r.types.cloneNode(e.get("arguments.2.arguments")[1].node)]))}};var c=l;t["default"]=c},273:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=s(345);var o=(0,r.declare)(((e,t)=>{e.assertVersion(7);let{version:s}=t;{const{legacy:e}=t;if(e!==undefined){if(typeof e!=="boolean"){throw new Error(".legacy must be a boolean.")}if(s!==undefined){throw new Error("You can either use the .legacy or the .version option, not both.")}}if(s===undefined){s=e?"legacy":"2018-09"}else if(s!=="2023-05"&&s!=="2023-01"&&s!=="2022-03"&&s!=="2021-12"&&s!=="2018-09"&&s!=="legacy"){throw new Error("Unsupported decorators version: "+s)}var{decoratorsBeforeExport:r}=t;if(r===undefined){if(s==="2021-12"||s==="2022-03"){r=false}else if(s==="2018-09"){throw new Error("The decorators plugin, when .version is '2018-09' or not specified,"+" requires a 'decoratorsBeforeExport' option, whose value must be a boolean.")}}else{if(s==="legacy"||s==="2022-03"||s==="2023-01"){throw new Error(`'decoratorsBeforeExport' can't be used with ${s} decorators.`)}if(typeof r!=="boolean"){throw new Error("'decoratorsBeforeExport' must be a boolean.")}}}return{name:"syntax-decorators",manipulateOptions({generatorOpts:e},t){if(s==="legacy"){t.plugins.push("decorators-legacy")}else{if(s==="2023-01"||s==="2023-05"){t.plugins.push(["decorators",{allowCallParenthesized:false}],"decoratorAutoAccessors")}else if(s==="2022-03"){t.plugins.push(["decorators",{decoratorsBeforeExport:false,allowCallParenthesized:false}],"decoratorAutoAccessors")}else if(s==="2021-12"){t.plugins.push(["decorators",{decoratorsBeforeExport:r}],"decoratorAutoAccessors");e.decoratorsBeforeExport=r}else if(s==="2018-09"){t.plugins.push(["decorators",{decoratorsBeforeExport:r}]);e.decoratorsBeforeExport=r}}}}}));t["default"]=o}};var t={};function __nccwpck_require__(s){var r=t[s];if(r!==undefined){return r.exports}var o=t[s]={exports:{}};var n=true;try{e[s](o,o.exports,__nccwpck_require__);n=false}finally{if(n)delete t[s]}return o.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var s={};(()=>{var e=s;Object.defineProperty(e,"__esModule",{value:true});e["default"]=void 0;var t=__nccwpck_require__(345);var r=__nccwpck_require__(273);var o=__nccwpck_require__(308);var n=__nccwpck_require__(765);var i=__nccwpck_require__(859);var a=(0,t.declare)(((e,t)=>{e.assertVersion(7);{var{legacy:s}=t}const{version:a}=t;if(s||a==="legacy"){return{name:"proposal-decorators",inherits:r.default,visitor:n.default}}else if(a==="2021-12"||a==="2022-03"||a==="2023-01"||a==="2023-05"){return(0,i.default)(e,t,a)}else{e.assertVersion("^7.0.2");return(0,o.createClassFeaturePlugin)({name:"proposal-decorators",api:e,feature:o.FEATURES.decorators,inherits:r.default})}}));e["default"]=a})();module.exports=s})();