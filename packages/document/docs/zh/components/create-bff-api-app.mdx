1. 执行 `@modern-js/create` 命令：

```bash
npx @modern-js/create@latest myapi
```

2. 安装 BFF 插件依赖：

import { PackageManagerTabs } from '@theme';

安装 BFF 插件：

<PackageManagerTabs
  command={{
    npm: 'npm install @modern-js/plugin-bff',
    yarn: 'yarn add @modern-js/plugin-bff',
    pnpm: 'pnpm install @modern-js/plugin-bff',
  }}
/>

安装开发依赖（TypeScript 项目需要）：

<PackageManagerTabs
  command={{
    npm: 'npm install -D ts-node tsconfig-paths',
    yarn: 'yarn add -D ts-node tsconfig-paths',
    pnpm: 'pnpm install -D ts-node tsconfig-paths',
  }}
/>

3. 在 `modern.config.[tj]s` 中添加 BFF 插件配置：

```ts title="modern.config.ts"
import { bffPlugin } from '@modern-js/plugin-bff';

export default defineConfig({
  plugins: [bffPlugin()],
});
```

4. 如果是 TypeScript 项目，需要更新 `tsconfig.json`：

```json title="tsconfig.json"
{
  "include": [
    // ... 其他配置
    "api"
  ],
  "compilerOptions": {
    "paths": {
      "@api/*": ["./api/lambda/*"]
    }
  }
}
```

5. 创建 BFF 函数模板文件：

```ts title="api/lambda/hello.ts"
export default async () => ({
  message: 'Hello Modern.js',
});

export const post = async () => ({
  message: 'Hello Modern.js',
});
```

6. 执行【[已启用 BFF 的项目](/guides/advanced-features/bff/cross-project.html#已启用-bff-的项目)】步骤，即可打开跨项目调用开关。
   需要注意的是，当项目仅作为 BFF 生产端，其运行时不依赖 `/src` 源码目录。因此，移除 `/src` 目录可在一定程度上优化工程的编译效率。
