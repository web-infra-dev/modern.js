---
title: setupMiddlewares
---

# dev.setupMiddlewares

- **类型：**

```ts
type RequestHandler = (req: any, res: any, next: () => void) => void;

type ExposeServerApis = {
  sockWrite: (
    type: string,
    data?: string | boolean | Record<string, any>,
  ) => void;
};

type SetupMiddlewares = Array<
  (
    middlewares: {
      unshift: (...handlers: RequestHandler[]) => void;
      push: (...handlers: RequestHandler[]) => void;
    },
    server: ExposeServerApis,
  ) => void
>;
```

- **默认值：** `undefined`

提供执行自定义函数和应用自定义中间件的能力。

import RsbuildConfig from '@site-docs/components/rsbuild-config-tooltip';

<RsbuildConfig configName="dev.setupMiddlewares" />
