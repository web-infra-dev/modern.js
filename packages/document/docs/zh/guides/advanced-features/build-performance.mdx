---
sidebar_position: 12
---

# æå‡æ„å»ºæ€§èƒ½

Modern.js é»˜è®¤å¯¹æ„å»ºæ€§èƒ½è¿›è¡Œäº†å……åˆ†ä¼˜åŒ–ï¼Œä½†æ˜¯éšç€ä¸šåŠ¡åœºæ™¯å˜å¤æ‚ã€é¡¹ç›®ä»£ç é‡å˜å¤§ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°ä¸€äº›æ„å»ºæ€§èƒ½çš„é—®é¢˜ã€‚

æœ¬æ–‡æ¡£æä¾›äº†ä¸€äº›å¯é€‰çš„æé€Ÿç­–ç•¥ï¼Œ**å¼€å‘è€…å¯ä»¥æ ¹æ®å®é™…åœºæ™¯é€‰å–å…¶ä¸­çš„éƒ¨åˆ†ç­–ç•¥**ï¼Œä»è€Œè¿›ä¸€æ­¥æå‡æ„å»ºé€Ÿåº¦ã€‚

:::tip ğŸ“¢ æ³¨æ„
åœ¨[ä¼˜åŒ–äº§ç‰©ä½“ç§¯](/guides/advanced-features/page-performance/optimize-bundle)ä¸€æ–‡ä¸­ä»‹ç»çš„ç­–ç•¥ä¹Ÿå¯ä»¥ç”¨äºæå‡æ„å»ºæ€§èƒ½ï¼Œè¿™é‡Œä¸å†é‡å¤ä»‹ç»ã€‚
:::

## é€šç”¨ä¼˜åŒ–ç­–ç•¥

ä»¥ä¸‹æ˜¯ä¸€äº›é€šç”¨çš„ä¼˜åŒ–ç­–ç•¥ï¼Œå¯¹å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒå‡æœ‰æé€Ÿæ•ˆæœï¼Œå…¶ä¸­éƒ¨åˆ†ç­–ç•¥å¯¹åŒ…ä½“ç§¯ä¹Ÿæœ‰ä¼˜åŒ–ã€‚

### å‡çº§ Node.js ç‰ˆæœ¬

é€šå¸¸æ¥è¯´ï¼Œå°† Node.js æ›´æ–°åˆ°æœ€æ–°çš„ [LTS ç‰ˆæœ¬](https://github.com/nodejs/release#release-schedule)ï¼Œæœ‰åŠ©äºæå‡æ„å»ºæ€§èƒ½ã€‚

Modern.js è¦æ±‚ Node.js ç‰ˆæœ¬ >= 20.19.5ï¼Œæˆ‘ä»¬å¼ºçƒˆæ¨èä½¿ç”¨æœ€æ–°çš„ LTS ç‰ˆæœ¬ï¼ˆå¦‚ Node.js 22 LTSï¼‰ä»¥è·å¾—æœ€ä½³æ„å»ºæ€§èƒ½ã€‚

ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤æ¥åˆ‡æ¢åˆ°æœ€æ–°çš„ LTS ç‰ˆæœ¬ï¼š

```bash
# å®‰è£…æœ€æ–°çš„ LTS ç‰ˆæœ¬ï¼ˆä¾‹å¦‚ Node.js 22ï¼‰
nvm install --lts

# åˆ‡æ¢åˆ°æœ€æ–° LTS ç‰ˆæœ¬
nvm use --lts

# å°†æœ€æ–° LTS ç‰ˆæœ¬è®¾ç½®ä¸ºé»˜è®¤ç‰ˆæœ¬
nvm alias default lts/*

# æŸ¥çœ‹ Node ç‰ˆæœ¬
node -v
```

æˆ–è€…æŒ‡å®šå®‰è£… Node.js 22 LTSï¼š

```bash
# å®‰è£… Node.js 22 LTS
nvm install 22 --lts

# åˆ‡æ¢åˆ° Node.js 22
nvm use 22

# å°† Node.js 22 è®¾ç½®ä¸ºé»˜è®¤ç‰ˆæœ¬
nvm alias default 22

# æŸ¥çœ‹ Node ç‰ˆæœ¬
node -v
```

## å¼€å‘ç¯å¢ƒä¼˜åŒ–ç­–ç•¥

ä»¥ä¸‹æ˜¯é’ˆå¯¹å¼€å‘ç¯å¢ƒè¿›è¡Œæé€Ÿçš„ç­–ç•¥ã€‚

### è°ƒæ•´ Source Map æ ¼å¼

ä¸ºäº†æä¾›è‰¯å¥½çš„è°ƒè¯•ä½“éªŒï¼ŒModern.js åœ¨å¼€å‘ç¯å¢ƒä¸‹é»˜è®¤ä½¿ç”¨ `cheap-module-source-map` æ ¼å¼ Source Mapï¼Œè¿™æ˜¯ä¸€ç§é«˜è´¨é‡çš„ Source Map æ ¼å¼ï¼Œä¼šå¸¦æ¥ä¸€å®šçš„æ€§èƒ½å¼€é”€ã€‚

ä½ å¯ä»¥é€šè¿‡è°ƒæ•´å¼€å‘ç¯å¢ƒçš„ Source Map æ ¼å¼æ¥æå‡æ„å»ºé€Ÿåº¦ã€‚

æ¯”å¦‚ç¦ç”¨ Source Mapï¼š

```js
export default {
  tools: {
    bundlerChain(chain, { env }) {
      if (env === 'development') {
        chain.devtool(false);
      }
    },
  },
};
```

æˆ–æ˜¯æŠŠå¼€å‘ç¯å¢ƒçš„ Source Map æ ¼å¼è®¾ç½®ä¸ºå¼€é”€æœ€å°çš„ `eval` æ ¼å¼ï¼š

```js
export default {
  tools: {
    bundlerChain(chain, { env }) {
      if (env === 'development') {
        chain.devtool('eval');
      }
    },
  },
};
```

> å…³äºä¸åŒ Source Map æ ¼å¼ä¹‹é—´çš„è¯¦ç»†å·®å¼‚ï¼Œè¯·æŸ¥çœ‹ [rspack - devtool](https://rspack.rs/zh/config/devtool)ã€‚

### è°ƒæ•´ Browserslist èŒƒå›´

è¿™é¡¹ä¼˜åŒ–çš„åŸç†ä¸[ã€Œæå‡ Browserslist èŒƒå›´ã€](/guides/advanced-features/page-performance/optimize-bundle#adjust-browserslist)ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºå¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒè®¾ç½®ä¸åŒçš„ browserslistï¼Œä»è€Œå‡å°‘å¼€å‘ç¯å¢ƒä¸‹çš„ç¼–è¯‘å¼€é”€ã€‚

æ¯”å¦‚ï¼Œä½ å¯ä»¥åœ¨ `package.json` ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼Œè¡¨ç¤ºåœ¨å¼€å‘ç¯å¢ƒä¸‹åªå…¼å®¹æœ€æ–°çš„æµè§ˆå™¨ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸‹å…¼å®¹å®é™…éœ€è¦çš„æµè§ˆå™¨ï¼š

```json
{
  "browserslist": {
    "production": [">0.2%", "not dead", "not op_mini all"],
    "development": [
      "last 1 chrome version",
      "last 1 firefox version",
      "last 1 safari version"
    ]
  }
}
```

æ³¨æ„ï¼Œè¿™é¡¹ä¼˜åŒ–ç­–ç•¥ä¼šå¯¼è‡´å¼€å‘ç¯å¢ƒä¸ç”Ÿäº§ç¯å¢ƒçš„æ„å»ºäº§ç‰©å­˜åœ¨ä¸€å®šå·®å¼‚ã€‚

## ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–ç­–ç•¥

ä»¥ä¸‹æ˜¯é’ˆå¯¹ç”Ÿäº§ç¯å¢ƒè¿›è¡Œæé€Ÿçš„ç­–ç•¥ã€‚

### ç¦ç”¨ Source Map

å¦‚æœé¡¹ç›®åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ä¸éœ€è¦ Source Mapï¼Œå¯ä»¥é€šè¿‡ `sourceMap` é…ç½®é¡¹å…³é—­ï¼Œä»è€Œæå‡ build æ„å»ºçš„é€Ÿåº¦ã€‚

```js
export default {
  output: {
    sourceMap: false,
  },
};
```

è¯¦è§ [output.sourceMap](/configure/app/output/source-map.html)ã€‚
